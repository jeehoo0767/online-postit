(this["webpackJsonppost-board"]=this["webpackJsonppost-board"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var i,o=n(0),r=n.n(o),a=n(12),c=n.n(a),d=(n(49),n(41)),s=(n(50),n(69)),l=n(20),u=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},h={isLoading:!1,data:null,error:null,selectedPostIdForFocus:null,selectedTitleForEffect:null},f={id:0,title:"",description:"",isFoldPost:!1,x:10,y:10,width:250,height:250,isVisible:!1},b={loadPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;e.isLoading=!0},loadPostSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.payload;e.isLoading=!1,e.data=n,e.error=null},loadPostFail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.payload;e.isLoading=!1,e.data=[],e.error=n},handlePostChange:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0,i=n.payload.key,o=null===(e=t.data)||void 0===e?void 0:e.findIndex((function(e){return e.id===n.payload.id})),r=t.data[o];r[i]=n.payload.content},addPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;0===e.data.length?e.data.push(f):e.data.push({id:e.data[e.data.length-1].id+1,title:"",description:"",isFoldPost:!1,x:u(0,700),y:u(0,400),width:250,height:250,isVisible:!1})},deletePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.payload.id;e.data=e.data.filter((function(e){return e.id!==n}))},handleDragPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.payload.id,i=e.data.findIndex((function(e){return e.id===n})),o=e.data[i];o.x=t.payload.x,o.y=t.payload.y},handleResizePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.payload.id,i=e.data.findIndex((function(e){return e.id===n})),o=e.data[i];o.width=t.payload.width,o.height=t.payload.height},handleFoldPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.payload.id,i=e.data.findIndex((function(e){return e.id===n})),o=e.data[i];o.isFoldPost?(o.isFoldPost=!1,o.height=250):(o.isFoldPost=!0,o.height=40)},setFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;e.selectedPostIdForFocus=t.payload.id},selectedTitleMakeEffect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;e.selectedTitleForEffect=t.payload.id}},j=Object(l.b)({name:"postListReducer",initialState:h,reducers:b}),g=(j.name,j.reducer),p=j.actions,v=n(10),x=n(2),O=function(){var e,t=Object(v.c)((function(e){return e.postListReducer})),n=t.data,i=t.selectedTitleForEffect,o=Object(v.b)();return Object(x.jsxs)("div",{className:"header",children:[(e=n,e.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:"mb-3 header-post-title-list",style:{background:e.id===i?"#eeeeee":"#ffffff"},children:e.title})},e.id)}))),Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)(s.a,{onClick:function(){return function(){if(n.length>=12)return alert("\ucd5c\ub300 12\uac1c\uae4c\uc9c0 \uc0dd\uc131\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4");o(p.addPost())}()},children:"+"})})]})},m=n(29),y=n(34),P=n(36),F=n(43),k=P.a.textarea(i||(i=Object(y.a)(["\n  display: ",";\n  resize: none;\n"])),(function(e){return e.isFold?"none":"inline-block"})),w=function(e){var t,n=e.handleShow,i=e.setClickedPost,o=Object(v.c)((function(e){return e.postListReducer})).data,r=Object(v.b)(),a=function(e){var t={id:Number(e.target.id),key:e.target.name,content:e.target.value};r(p.handlePostChange(t))};return Object(x.jsx)(x.Fragment,{children:o&&(t=o,t.map((function(e){return Object(x.jsx)(F.a,{position:{x:e.x,y:e.y},size:{width:e.width,height:e.height},minWidth:200,minHeight:80,onDragStop:function(t,n){return function(e,t){var n={id:t,x:e.x,y:e.y};r(p.handleDragPost(n))}(n,e.id)},onResizeStop:function(t,n,i,o,a){return function(e,t,n,i,o,a){var c={id:a.id,width:Number(n.style.width.split("px")[0]),height:Number(n.style.height.split("px")[0])};r(p.handleResizePost(c))}(0,0,i,0,0,e)},cancel:".note_description",bounds:".drag_wrap",enableResizing:{bottom:!e.isFoldPost,right:!0,bottomRight:!e.isFoldPost},children:Object(x.jsxs)("div",{className:"note resize",id:e.id.toString(),onDoubleClick:function(e){return e.stopPropagation()},style:{background:e.isFoldPost?"lightyellow":"linear-gradient(-45deg, transparent 15px, lightyellow 0), linear-gradient(45deg, transparent 15px, rgb(255, 94, 0) 0)"},children:[Object(x.jsx)("input",{id:e.id.toString(),name:"title",type:"text",style:{border:"none"},value:e.title,onChange:function(e){return a(e)},onFocus:function(){return r(p.selectedTitleMakeEffect({id:e.id}))},onBlur:function(){return r(p.selectedTitleMakeEffect({id:null}))},placeholder:"Title",className:"note_title",autoComplete:"off"}),Object(x.jsx)(k,{id:e.id.toString(),name:"description",value:e.description,onChange:function(e){return a(e)},onFocus:function(){return r(p.selectedTitleMakeEffect({id:e.id}))},onBlur:function(){return r(p.selectedTitleMakeEffect({id:null}))},placeholder:"Description...",className:"note_description",style:{border:"none",borderTop:"1px solid black"},isFold:e.isFoldPost,onDrag:function(e){return e.stopPropagation()}}),Object(x.jsx)("span",{className:"note_reduce",onClick:function(){return function(e){var t={id:e};r(p.handleFoldPost(t))}(e.id)},children:"-"}),Object(x.jsx)("span",{className:"note_delete",onClick:function(){return function(e){var t={id:e.id};e.description||e.title?(n(),i(e.id)):r(p.deletePost(t))}(e)},children:"X"})]})},e.id)})))})},S=n(68),N=function(e){var t=e.show,n=e.handleClose,i=e.clickedPost,o=Object(v.b)(),r=function(){n(),o(p.deletePost({id:i}))};return document.onkeyup=function(e){"Enter"===e.key&&r()},Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(S.a,{show:t,onHide:n,children:[Object(x.jsx)(S.a.Header,{children:Object(x.jsx)(S.a.Title,{children:"Delete Post"})}),Object(x.jsx)(S.a.Body,{children:"\ud574\ub2f9 \ud3ec\uc2a4\ud2b8\uc787\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),Object(x.jsxs)(S.a.Footer,{children:[Object(x.jsx)(s.a,{variant:"secondary",onClick:n,children:"\ucde8\uc18c"}),Object(x.jsx)(s.a,{variant:"primary",onClick:function(){return r()},children:"\ud655\uc778"})]})]})})},C=function(){var e=Object(v.c)((function(e){return e.postListReducer})).data,t=Object(v.b)(),n=Object(o.useState)(),i=Object(m.a)(n,2),r=i[0],a=i[1],c=Object(o.useState)(!1),d=Object(m.a)(c,2),s=d[0],l=d[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"note-wrap",onDoubleClick:function(){return function(){if(e.length>=12)return alert("\ucd5c\ub300 12\uac1c\uae4c\uc9c0 \uc0dd\uc131\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4");t(p.addPost())}()},children:Object(x.jsx)("div",{className:"notes_list",children:Object(x.jsx)(w,{handleShow:function(){return l(!0)},setClickedPost:a})})}),s&&Object(x.jsx)(N,{show:s,handleClose:function(){return l(!1)},clickedPost:r})]})},L=n(64),I=n(65),T=n(70),E=n(66),R=n(67),_=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.postListReducer})),n=t.isLoading,i=t.data,r=t.error,a=t.selectedPostIdForFocus,c=!1,s=!1;return document.onkeyup=function(e){e.ctrlKey&&(c=!1),e.altKey&&(s=!1)},document.onkeydown=function(t){if(t.ctrlKey&&(c=!0),t.altKey&&(s=!0),"n"===t.key&&c&&s){if(i.length>=12)return alert("\ucd5c\ub300 12\uac1c\uae4c\uc9c0 \uc0dd\uc131\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4");var n;e(p.addPost());var o=document.querySelectorAll(".note_title");e(p.setFocus({id:Number(null===(n=o[o.length-1])||void 0===n?void 0:n.id)}))}},Object(o.useEffect)((function(){e(p.loadPost())}),[]),Object(o.useEffect)((function(){null!==i&&localStorage.setItem("noteList",JSON.stringify(i))}),[i]),Object(o.useEffect)((function(){var e=Object(d.a)(document.querySelectorAll(".note_title")).find((function(e){return Number(e.id)===a}));null===e||void 0===e||e.focus()}),[a]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:"url(https://img.freepik.com/free-photo/abstract-and-surface-wood-texture-for-background_74190-12071.jpg?size=626&ext=jpg&ga=GA1.2.1591904653.1622073600)",backgroundSize:"cover",zIndex:-1}}),Object(x.jsxs)(L.a,{className:"mt-5",children:[n&&Object(x.jsxs)("div",{className:"text-center",children:[Object(x.jsx)(I.a,{animation:"border",variant:"primary"}),Object(x.jsx)("div",{className:"h4",children:"\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694 ..."})]}),i&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"h1 text-center",children:"Online Post-it"}),Object(x.jsx)(T.a,{className:"my-3",style:{minHeight:"80vh",backgroundColor:"rgba(255,255,255,0.2)"},children:Object(x.jsxs)(E.a,{children:[Object(x.jsx)(R.a,{lg:"2",children:Object(x.jsx)(O,{})}),Object(x.jsx)(R.a,{lg:"10",className:"pl-0 drag_wrap",children:Object(x.jsx)(C,{})})]})})]}),r&&Object(x.jsx)("div",{className:"text-center",children:"\uc5d0\ub7ec \ubc1c\uc0dd"})]})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))},M=(n(60),n(13)),D=n(42),B=n(15),H=n.n(B),J=n(16),K=function(){return new Promise((function(e){return"[]"===localStorage.getItem("noteList")||"null"===localStorage.getItem("noteList")||null===localStorage.getItem("noteList")?setTimeout((function(){return e(V())}),400):localStorage.getItem("noteList")?setTimeout((function(){return e(A())}),400):void 0}))},A=function(){return JSON.parse(localStorage.getItem("noteList"))},V=function(){return[{description:"",height:250,id:0,isFoldPost:!1,isVisible:!1,title:"",width:250,x:10,y:10}]},q=H.a.mark(W),G=H.a.mark(X);function W(){var e,t,n;return H.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=p.loadPostSuccess,t=p.loadPostFail,i.prev=1,i.next=4,Object(J.b)(K);case 4:return n=i.sent,i.next=7,Object(J.d)(e(n));case 7:i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(1),i.next=13,Object(J.d)(t(i.t0));case 13:case"end":return i.stop()}}),q,null,[[1,9]])}function X(){var e;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.loadPost,t.next=3,Object(J.e)(e,W);case 3:case"end":return t.stop()}}),G)}var Q=H.a.mark(U);function U(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.a)([Object(J.c)(X)]);case 2:case"end":return e.stop()}}),Q)}var Y=Object(M.b)({postListReducer:g}),Z=Object(D.a)(),$=function(){var e=Object(l.a)({reducer:Y,devTools:!0,middleware:[Z]});return Z.run(U),e}();c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(v.a,{store:$,children:Object(x.jsx)(_,{})})}),document.getElementById("root")),z()}},[[62,1,2]]]);
//# sourceMappingURL=main.0600a808.chunk.js.map